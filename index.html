<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>

    <body>
        <div>
            <button id="rock">Rock</button>
            <button id="paper">Paper</button>
            <button id="scissors">Scissors</button>
        </div>

        <div class="results"> Change this input according to which user wins</div>

        <div>
            <div class="computer">0</div>
            <div class="player">0</div>
        </div>

        <!-- <script src="javascript.js"></script> -->

        <script>
            const rps = document.querySelectorAll("button");
            rps.forEach(choice => choice.addEventListener("click", calculateWinner));

            function getPlayerChoice(selection){
                return (selection.target.id);
            }

            function getComputerChoice() {
                let randomInt = Math.floor(Math.random() * 3 + 1);

                if(randomInt === 1){
                    return ("rock")
                }
                else if(randomInt === 2){
                    return ("paper")
                }
                else {
                    return ("scissors")
                }
            }

            function calculateWinner(selection) {
                let winner = 0;
                let player = getPlayerChoice(selection);
                let computer = getComputerChoice();
                const results = document.querySelector(".results");
                let computerScore = parseInt(document.querySelector(".computer").innerHTML);
                let playerScore = parseInt(document.querySelector(".player").innerHTML);
                
                if(player === "rock") {
                    if(computer === "rock") {
                        results.innerHTML = "It is a tie!";
                        return (winner = 0);
                    }
                    else if(computer === "paper") {
                        results.innerHTML = "Computer wins! Paper beats Rock";
                        computerScore++;
                        document.querySelector(".computer").innerHTML = computerScore;
                        return (winner = -1);
                    }
                    else {
                        results.innerHTML = "You win! Rock beats Scissors";
                        playerScore++;
                        document.querySelector(".player").innerHTML = playerScore;
                        return (winner = 1);
                    }
                }

                else if(player === "paper") {
                    if(computer === "paper") {
                        results.innerHTML = "It is a tie!";
                        return (winner = 0);
                    }
                    else if(computer === "scissors") {
                        results.innerHTML = "Computer wins! Scissors beat Paper";
                        computerScore++;
                        document.querySelector(".computer").innerHTML = computerScore;
                        return (winner = -1);
                    }
                    else {
                        results.innerHTML = "You win! Paper beats Rock";
                        playerScore++;
                        document.querySelector(".player").innerHTML = playerScore;
                        return (winner = 1);
                    }
                }

                else {
                    if(computer === "scissors") {
                        results.innerHTML = "It is a tie!";
                        return (winner = 0);
                    }
                    else if(computer === "rock") {
                        results.innerHTML = "Computer wins! Rock beats Scissors";
                        computerScore++;
                        document.querySelector(".computer").innerHTML = computerScore;
                        return (winner = -1);
                    }
                    else {
                        results.innerHTML = "You win! Scissors beat Paper";
                        playerScore++;
                        document.querySelector(".player").innerHTML = playerScore;
                        return (winner = 1);
                    }
                }
            }


        </script>
    </body>
</html>